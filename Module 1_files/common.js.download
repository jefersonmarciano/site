const urlParam=function(e){var t=new RegExp("[?&]"+e+"=([^&#]*)").exec(window.location.href);return null==t?null:decodeURI(t[1])||0},lang=urlParam("lang");var step1Form_complete=!1,progress_elements_obj={padding:!1,h_firstName:!1,h_lastName:!1,h_ssn3:!1,h_birthdate_year:!1,h_zip:!1},hunt_progress_elements_obj={padding:!1},RESUBMIT_COUNT=0,RESUBMIT_HUNT_CHECK_COUNT=0,TRY_HUNT=1,HOME_PHONE_ALERT_FIRED=0,USER_CHANGED_BANK_NAME=0,specialHunt=!1,HOME_PHONE_TRACK={1:0,2:0,3:0},SHOW_HDQ=1;function disableOnBeforeUnload(e){window.onbeforeunload=null;var t='{"message":"disableOnBeforeUnload","url":"'+e+'"}';window.parent.postMessage(t,"*")}function showHideHighDebt(e){e=parseInt(e),console.log("showHideHighDebt:"+e);var t=!1;SHOW_HDQ&&e>=0?(t=!0,$(".ccdebtDiv").show(),$("#h_highDebt").addClass("specialHunt").attr("required","true"),$("#highDebt").addClass("prog").each((function(){progress_elements_obj[$(this).attr("id")]=!1})),$("#h_highDebt").addClass("hs").each((function(){hunt_progress_elements_obj[$(this).attr("id")]=!1})),$("#page"+HIGH_DEBT_PAGE_ID).addClass("progressSection")):(t=!1,$(".ccdebtDiv").hide(),$("#h_highDebt").removeClass("specialHunt").removeAttr("required"),$("#highDebt").removeClass("prog").each((function(){progress_elements_obj[$(this).attr("id")]=!0})),$("#h_highDebt").removeClass("hs").each((function(){hunt_progress_elements_obj[$(this).attr("id")]=!0})),$("#page"+HIGH_DEBT_PAGE_ID).removeClass("progressSection")),$(".retryRla").text($("#requestedLoanAmount").children('option[value="'+e+'"]').text()),e>600?($(".retrySubmitDiv").show(),$("#h_retrySubmit").addClass("specialHunt").attr("required","true"),$("#retrySubmit").addClass("prog").each((function(){progress_elements_obj[$(this).attr("id")]=!1})),$("#h_retrySubmit").addClass("hs").each((function(){hunt_progress_elements_obj[$(this).attr("id")]=!1})),$("#page"+RETRY_PAGE_ID).addClass("progressSection")):($(".retrySubmitDiv").hide(),$("#h_retrySubmit").removeClass("specialHunt").removeAttr("required"),$("#retrySubmit").removeClass("prog").each((function(){progress_elements_obj[$(this).attr("id")]=!0})),$("#h_retrySubmit").removeClass("hs").each((function(){hunt_progress_elements_obj[$(this).attr("id")]=!0})),$("#page"+RETRY_PAGE_ID).removeClass("progressSection")),e>999.99?($("#h_loanPurpose, #h_creditScore").addClass("hs").each((function(){hunt_progress_elements_obj[$(this).attr("id")]=!1})),$(".phd").addClass("prog"),$(".phd").prop("required","required"),$("#loanPurpose, #creditScore").addClass("prog").each((function(){progress_elements_obj[$(this).attr("id")]=!1})),SHOW_HDQ&&($("#h_highDebt").addClass("hs").each((function(){hunt_progress_elements_obj[$(this).attr("id")]=!1})),$("#highDebt").addClass("prog").each((function(){progress_elements_obj[$(this).attr("id")]=!1})),$(".hightDebtDiv").show()),$("#page"+CREDIT_PAGE_ID+", #page"+PURPOSE_PAGE_ID).addClass("progressSection"),adjustHuntProgressBar(t?25:30)):($("#h_loanPurpose, #h_creditScore").removeClass("hs").each((function(){hunt_progress_elements_obj[$(this).attr("id")]=!0})),$(".phd").removeClass("prog"),$(".phd").removeAttr("required"),$(".hightDebtDiv").hide(),$("#loanPurpose, #creditScore").removeClass("prog").each((function(){progress_elements_obj[$(this).attr("id")]=!0})),$("#page"+CREDIT_PAGE_ID+", #page"+PURPOSE_PAGE_ID).removeClass("progressSection"),adjustHuntProgressBar(t?20:30))}function adjustHuntProgressBar(e){if("padding0"in hunt_progress_elements_obj){for(var t in hunt_progress_elements_obj)t.includes("padding")&&delete hunt_progress_elements_obj[t];hunt_progress_elements_obj.padding=!1}for(var a=0;a<=e;a++)hunt_progress_elements_obj["padding"+a]=!0}function isValidPrepopValue(e){let t=!0;return e||(t=!1),"string"==typeof e||e instanceof String?(e.includes("[")||e.includes("]")||"firstname"===e.toLowerCase()||"lastname"===e.toLowerCase()||"email"===e.toLowerCase())&&(t=!1):t=!1,t}function goToMy411(e){openNewWindow(e=e+"&z1="+$("#zip").val()+"&z3="+$("#drivingLicenseState").val())}function openNewWindow(e,t,a){return newWnd=window.open(e,"_blank",t),newWnd.opener=null,!1}function trimText(){$(":text").each((function(){$(this).on("focusout",(function(){$(this).val($.trim($(this).val()))}))}))}function inArrayCaseInsensitive(e,t){var a=-1;return $.each(t,(function(t,n){-1==a&&t.toLowerCase()==e.toLowerCase()&&(a=n)})),a}function setFields(e){for(field in e)$(field).length>0&&($(field).val(e[field]),progress_elements_obj[$(field).attr("id")]=!0)}function setPayday(){const e=$("#payPeriod").val(),t=nextPaydayOptions[e].split("-");$('#payMonth option[value="'+parseInt(t[1])+'"]').prop("selected",!0),$('#payDay1 option[value="'+parseInt(t[2])+'"]').prop("selected",!0),$("#payDateStub").datepicker("setDate",nextPaydayOptions[e])}String.prototype.includes||(String.prototype.includes=function(e,t){"use strict";return"number"!=typeof t&&(t=0),!(t+e.length>this.length)&&-1!==this.indexOf(e,t)}),$(document).ready((function(){$("#h_highDebt").prop("required","required"),$("#highDebt").prop("required","required"),$("#h_loanPurpose").prop("required","required"),$("#loanPurpose").prop("required","required"),$("#creditScore").prop("required","required"),$("#h_creditScore").prop("required","required"),$('[id^="home_phone"], [id^="h_home_phone"]').focusout((function(){phoneTrack(this)})),trimText(),$("*[maxlength]").unbind("keyup change input paste").bind("keyup change input paste",(function(e){var t=$(this),a=t.val().length,n=t.attr("maxlength"),o="";a>n&&(o=t.val().substring(0,n),t.val(o))})),$('input[type="tel"]').on("keypress keyup blur",(function(e){$(this).val($(this).val().replace(/[^0-9].+/,"")),(e.which<48||e.which>57)&&e.preventDefault()})),$("#RSform").keypress((function(e){13==e.which&&$(":focus").closest("div").find('input[type="button"]:first,#proceedToNextStep').click()})),$("#bankAccountType").change((function(){"0"==$(this).val()&&$("#dialog").modal({zIndex:100})})),$("#payDateStub").datepicker({dateFormat:"yy-m-d",timeFormat:"",showHour:!1,showMinute:!1,showTime:!1,beforeShowDay:function(e){var t=e.getDay(),a=new Date,n=a.getTime()+2678400001;return t>0&&t<6?e.getTime()<a.getTime()||e.getTime()>n?[!1,""]:[!0,""]:[!1,""]},onSelect:function(){var e=$("#payDateStub").val();e=e.split("-"),$("#payMonth").val(parseInt(e[1],10)),$("#payDay1").val(parseInt(e[2],10)),$("#payDateStub").datepicker("hide"),$("#payMonth").h5Validate("isValid"),$("#payDay1").h5Validate("isValid")}}),$("#date-icon").click((function(){$("#payDateStub").datepicker("show")})),$("#RSform").h5Validate({click:!1,errorClass:"h5-ui-state-error",validCallback:function(){var e=!0;"routingNumber"==$(this).attr("id")&&(ABAMod10($("#routingNumber").val())||($(this).addClass("h5-ui-state-error h5-active"),e=!1));let t=$(this).attr("minLength");if(t&&$(this).val().length<t&&($(this).addClass("h5-ui-state-error h5-active"),e=!1),"work_phone3"!=$(this).attr("id")&&"work_phone2"!=$(this).attr("id")&&"work_phone1"!=$(this).attr("id")||("employment"==$("#incomeType").val()&&$("#home_phone1").val()==$("#work_phone1").val()&&$("#home_phone2").val()==$("#work_phone2").val()&&$("#home_phone3").val()==$("#work_phone3").val()?(e=!1,$("#work_phone1").addClass("h5-ui-state-error h5-active"),$("#work_phone2").addClass("h5-ui-state-error h5-active"),$("#work_phone3").addClass("h5-ui-state-error h5-active"),"es"==document.getElementsByTagName("html")[0].lang?$("#errorWorkPhone").text("El telÃ©fono de casa/trabajo no puede coincidir si es empleado."):$("#errorWorkPhone").text("Home/Work phone can't match if employed")):""!=$("#errorWorkPhone").text()&&($("#work_phone1").removeClass("h5-ui-state-error h5-active"),$("#work_phone2").removeClass("h5-ui-state-error h5-active"),$("#work_phone3").removeClass("h5-ui-state-error h5-active"),$("#errorWorkPhone").text(""))),"payDay1"==$(this).attr("id")||"payMonth"==$(this).attr("id")){var a=validateNextPayDate();a.result?($("#payMonth").removeClass("h5-ui-state-error h5-active"),$("#payDay1").removeClass("h5-ui-state-error h5-active"),$("#errorPayDate").text("")):(e=!1,$(this).addClass("h5-ui-state-error h5-active"),$("#errorPayDate").text(a.msg))}if("ssn1"==$(this).attr("id")){const t=["9","000","666"];let a=$(this).val();for(const n of t)a.startsWith(n)&&($(this).addClass("h5-ui-state-error h5-active"),e=!1)}if("ssn2"==$(this).attr("id")&&"00"==$(this).val()&&($(this).addClass("h5-ui-state-error h5-active"),e=!1),"ssn3"!=$(this).attr("id")&&"h_ssn3"!=$(this).attr("id")||"0000"==$(this).val()&&($(this).addClass("h5-ui-state-error h5-active"),e=!1),"bankAccountType"==$(this).attr("id")&&"0"==$(this).val()&&(e=!1,$(this).addClass("h5-ui-state-error h5-active")),"accountNumber"==$(this).attr("id")){$(this).val().replace(/^0+/,"").length<3&&(e=!1,$(this).addClass("h5-ui-state-error h5-active"))}progress_elements_obj.hasOwnProperty($(this).attr("id"))&&(progress_elements_obj[$(this).attr("id")]=e,updateProgressBar()),hunt_progress_elements_obj.hasOwnProperty($(this).attr("id"))&&(hunt_progress_elements_obj[$(this).attr("id")]=e,updateProgressBar()),$(this).data("valid",e)},invalidCallback:function(){progress_elements_obj.hasOwnProperty($(this).attr("id"))&&(progress_elements_obj[$(this).attr("id")]=!1,updateProgressBar()),hunt_progress_elements_obj.hasOwnProperty($(this).attr("id"))&&(hunt_progress_elements_obj[$(this).attr("id")]=!1,updateProgressBar())}}),$(".prog").each((function(e){"h_"!=this.id.substring(0,2)?progress_elements_obj[this.id]=!1:hunt_progress_elements_obj[this.id]=!1}));setFields({"#monthsAtResidence":"3","#housing":"rent","#activeMilitary":"false","#retrySubmit":"true","#incomeType":"employment","#payPeriod":"biweekly","#bankAccountType":"checking","#directDeposit":"true","#h_requestedLoanAmount":"300","#requestedLoanAmount":"300"}),setPayday(),showHideHighDebt($("#requestedLoanAmount").val()),$("#requestedLoanAmount").change((function(){showHideHighDebt($(this).val())})),$("#h_requestedLoanAmount").change((function(){showHideHighDebt($(this).val())})),$("#h_specialRequestedLoanAmount").change((function(){showHideHighDebt($(this).val())})),$("#yesInstallment").click((function(){$.ajax({url:HIT_URL,data:hitLogParams}).done((function(e){var t=e;hitLogParams.h=t,window.location=INSTALL_URL+$.param(hitLogParams)}))})),$("#noInstallment").click((function(){disableOnBeforeUnload(rejectUrl)})),$("#directDeposit").change((function(){"false"===$(this).val()&&$("#paycheckModal").modal({showClose:!1,zIndex:100})})),$("#activeMilitary").change((function(){"true"===$(this).val()&&$("#activeMilitaryModal").modal({showClose:!1,zIndex:100})})),$("#h_lendersLanguage, #lendersLanguage").change((function(){"spanishOnly"===$(this).val()&&$("#spanishOnlyModal").modal({showClose:!1,zIndex:100})})),$("#yesCheckButton").click((function(){$("#directDeposit").val("true"),$.modal.close()})),$("#spanishButton").click((function(){$("#h_lendersLanguage, #lendersLanguage").val("spanish"),$.modal.close()})),$("#noCheckButton, #spanishOnlyButton").click((function(){$.modal.close()})),$(".close-modal").on("click",(function(){$.modal.close()}));var e={firstName:"firstName",lastName:"lastName",email:"email",address:"address",zip:"zip",home_phone1:"home_phone1",home_phone2:"home_phone2",home_phone3:"home_phone3",tp:"tp",homePhone1:"home_phone1",homePhone2:"home_phone2",homePhone3:"home_phone3",requestedLoanAmount:"requestedLoanAmount",homePhone:"homePhone"},t=document.location.href,a=decodeURIComponent(t.split("prepop=")[1]).split("?");if(null!=a[1]){a=a[1].split("&");for(var n=0;n<a.length;n++)if(temp=a[n].split("="),"tp"==temp[0])$("#tpLink").show();else if(-1!=inArrayCaseInsensitive(temp[0],e)&&isValidPrepopValue(temp[1])){var o=e[inArrayCaseInsensitive(temp[0],e)];if("requestedLoanAmount"===o)$("#"+o).val(100*Math.floor(urldecode(temp[1])/100));else if("homePhone"===o&&10==temp[1].replace(/[^0-9]/g,"").length)$("#home_phone1").val(temp[1].replace(/[^0-9]/g,"").substring(0,3)),$("#home_phone2").val(temp[1].replace(/[^0-9]/g,"").substring(3,6)),$("#home_phone3").val(temp[1].replace(/[^0-9]/g,"").substring(6,10));else if("email"===o){if(temp[1]=urldecode(temp[1]),window.location.search.includes("U4cdm0dUN_y6aPCEh3m4I-qJ7LvWHZvSfFWoRHxAg3s.")){let e=0;for(;e<=5&&!temp[1].includes("@");)temp[1]=urldecode(temp[1]),e++}$("#"+o).val(temp[1])}else $("#"+o).val(urldecode(temp[1]));$("#h_"+o).val(urldecode(temp[1])),progress_elements_obj[$("#"+o).attr("id")]=!0}}updateProgressBar()}));var formStarted=!0;function updateProgressBar(){var e=getStartGoods(),t=getStartBads(),a=progress_elements_obj;for(var n in"1"==$("#huntFound").val()&&(e=0,t=0,a=hunt_progress_elements_obj,formStarted=!1),a)a[n]?e++:t++;t=Math.max(t,0);var o=Math.floor(e/(e+t)*100);formStarted&&(o=17,formStarted=!1),$("#progressbar").progressbar({value:o}),$("#progressbar2").progressbar({value:o});let s="PROGRESS";lang&&"es"===lang&&(s="PROGRESO"),$("#progresstext").html(s+": "+o+"%"),$("#progresstext2").html(s+": "+o+"%")}var alertFallback=!1;"undefined"!=typeof console&&void 0!==console.log||(console={},console.log=alertFallback?function(e){alert(e)}:function(){});var rejectUrl="";let abd="";function processAnura(){Anura&&(abd=encodeURIComponent(btoa(Anura.getAnura().getId())))}function appendAnura(){if(IS_CAPPED_SELLER)return;$("head").append("<script type=\"text/javascript\">\n(function(){\nconst anura = document.createElement('script');\nif ('object' === typeof anura) {\nconst request = {\ninstance: 3208365963,\nsource: 'iframe_submit_js',\ncallback: 'processAnura'\n};\nconst params = [Math.floor(1E12*Math.random()+1)];\nfor (let x in request) params.push(x+'='+encodeURIComponent(request[x]));\nanura.type = 'text/javascript';\nanura.async = true;\nanura.src = 'https://script.anura.io/request.js?'+params.join('&');\nconst script = document.getElementsByTagName('script')[0];\nscript.parentNode.insertBefore(anura, script);\n}\n})();\n<\/script>")}async function submitAll(e,t){if(void 0===e)e="submitAll";if(void 0===t)t="";var a=!1;if(!$("#RSform").h5Validate("allValid"))return $("#RSform").find(".prog").each((function(){console.log(!$(this).h5Validate("isValid")),$(this).h5Validate("isValid")||!1!==a||(a=this)})),console.log("submitAll bad:"),console.log(a),void $(a).focus();if("title"!=VERTICAL){if(!ABAMod10($("#routingNumber").val()))return void $(this).addClass("h5-ui-state-error h5-active");if(!validateNextPayDate().result)return void $(this).addClass("h5-ui-state-error h5-active");if("0"==$("#bankAccountType").val())return void $(this).addClass("h5-ui-state-error h5-active")}var n="action="+encodeURIComponent(e)+"&vertical="+VERTICAL;n=specialFieldsBuild(n);var o="",s=".prog,.noprog"+t;console.log(s),$(s).each((function(e){$(this).is(":checkbox")?$(this).is(":checked")&&(o="&"+encodeURIComponent($(this).attr("id"))+"="+encodeURIComponent($(this).val()),n+=o):(o="&"+encodeURIComponent($(this).attr("id"))+"="+encodeURIComponent($(this).val()),n+=o)})),$("#sending").modal({clickClose:!1,escapeClose:!1,showClose:!1,zIndex:100}),removeListeners("beforeunload"),appendAnura(),await new Promise((e=>setTimeout(e,2e3))),n+="&abd="+abd,$.ajax({type:"POST",url:SUBMIT_URL,data:n,timeout:18e4,async:!0,headers:{"cache-control":"no-cache"},success:function(e){sendUserTags(),"undefined"!=typeof IS_STEP&&"function"==typeof gtag&&gtag("event","stepFormTracker",{event_name:"stepSubmitSuccess"}),$.modal.close(),console.log("good ajax call"),CommonSubmitAjaxResponseHandle(jQuery.parseJSON(e))},error:function(e,t,a){(RESUBMIT_COUNT+=1)<2?submitAll():(sendUserTags(),"undefined"!=typeof IS_STEP&&"function"==typeof gtag&&gtag("event","stepFormTracker",{event_name:"stepSubmitFail"}),$.modal.close(),console.log("Ajax Error."))}})}function specialFieldsBuild(e){var t=$("#ioBlackBox").val();return e+="&"+encodeURIComponent("ioBlackBox")+"="+encodeURIComponent(t),e=(e+="&"+encodeURIComponent("elid")+"="+encodeURIComponent($("#encryptedLeadId").val()))+"&lapr="+LAPR}function ABAMod10(e){aba=e;var t=aba.length,a=(parseInt(aba),aba.toString()),n=0,o=!1;if(0!=t){if(9!=t)return!1;for(var s=0;s<t;s+=3)n+=3*parseInt(a.charAt(s),10)+7*parseInt(a.charAt(s+1),10)+parseInt(a.charAt(s+2),10);0!=n&&n%10==0?o=!0:(console.log("The Routing Number entered is NOT a valid ABA Routing Number!"),o=!1)}return o}function validateNextPayDate(){Date.prototype.daysinMonth=function(){return new Date(this.getFullYear(),this.getMonth()+1,0).getDate()},response={result:!0,msg:""};var e=new Date,t=e.getDate(),a=e.getMonth()+1,n=e.getFullYear(),o=n;if(1==$("#payMonth").val()&&12==a&&(console.log("year fixing"),o++),paycheckMonth=parseInt($("#payMonth").val(),10),paycheckDay=parseInt($("#payDay1").val(),10),paycheckYear=parseInt(o,10),n>=paycheckYear&&(a>paycheckMonth||a==paycheckMonth&&t>=paycheckDay))return response.msg="Must be in the future.","es"==document.getElementsByTagName("html")[0].lang&&(response.msg="Debe estar en el futuro"),response.result=!1,response;var s=new Date;if(s.setFullYear(paycheckYear,paycheckMonth-1,paycheckDay),thisDay=s.getDay(),6==thisDay||0==thisDay)return response.msg="No weekends.","es"==document.getElementsByTagName("html")[0].lang&&(response.msg="Sin fines de semana"),response.result=!1,response;var r=new Date(paycheckYear,paycheckMonth-1,1).daysinMonth();if(paycheckDay>r)return response.msg="Day Not Valid!","es"==document.getElementsByTagName("html")[0].lang&&(response.msg="Â¡DÃ­a no vÃ¡lido!"),response.result=!1,response;if(paycheckMonth>a&&paycheckDay>=t+1)return response.msg="Must be less than 31 days away!","es"==document.getElementsByTagName("html")[0].lang&&(response.msg="Â¡Debe estar a menos de 31 dÃ­as!"),response.result=!1,response;var i=paycheckYear+"-"+paycheckMonth+"-"+paycheckDay;return response=holidayCheck(i,response),response}function holidayCheck(e,t){var a=function(e){this.name=e};a.prototype.dateArray=new Array;var n,o={};for(var s in o.newyears_day=new a("New Year"),"es"==document.getElementsByTagName("html")[0].lang&&(o.newyears_day=new a("AÃ±o Nuevo")),o.newyears_day.dateArray=Array("2019-1-1","2020-1-1","2021-1-1","2021-12-31","2023-1-2","2024-1-1","2025-1-1","2026-1-1","2027-1-1","2027-12-31","2029-1-1","2030-1-1"),o.martin_luther_kings_day=new a("Martin Luther Kings Day"),"es"==document.getElementsByTagName("html")[0].lang&&(o.newyears_day=new a("DÃ­a de Martin Luther Kings")),o.martin_luther_kings_day.dateArray=Array("2019-1-21","2020-1-20","2021-1-18","2022-1-17","2023-1-16","2024-1-15","2025-1-20","2026-1-19","2027-1-18","2028-1-17","2029-1-15","2030-1-21"),o.washingtons_bday=new a("Washingtons Day"),"es"==document.getElementsByTagName("html")[0].lang&&(o.newyears_day=new a("DÃ­a de Washington")),o.washingtons_bday.dateArray=Array("2019-2-18","2020-2-17","2021-2-15","2022-2-21","2023-2-20","2024-2-19","2025-2-17","2026-2-16","2027-2-15","2028-2-21","2029-2-19","2030-2-18"),o.memorial_day=new a("Memorial Day"),"es"==document.getElementsByTagName("html")[0].lang&&(o.newyears_day=new a("DÃ­a Conmemorativo")),o.memorial_day.dateArray=Array("2019-5-27","2020-5-25","2021-5-31","2022-5-30","2023-5-29","2024-5-27","2025-5-26","2026-5-25","2027-5-31","2028-5-29","2029-5-28","2030-5-27"),o.independence_day=new a("Independence Day"),"es"==document.getElementsByTagName("html")[0].lang&&(o.newyears_day=new a("DÃ­a de la Independencia")),o.independence_day.dateArray=Array("2019-7-4","2020-7-3","2021-7-5","2022-7-4","2023-7-4","2024-7-4","2025-7-4","2026-7-3","2027-7-5","2028-7-4","2029-7-4","2030-7-4"),o.labor_day=new a("Labor Day"),"es"==document.getElementsByTagName("html")[0].lang&&(o.newyears_day=new a("Dia del Trabajo")),o.labor_day.dateArray=Array("2019-9-2","2020-9-7","2021-9-6","2022-9-5","2023-9-4","2024-9-2","2025-9-1","2026-9-7","2027-9-6","2028-9-4","2029-9-3","2030-9-2"),o.columbus_day=new a("Columbus Day"),"es"==document.getElementsByTagName("html")[0].lang&&(o.newyears_day=new a("Dia de Columbus")),o.columbus_day.dateArray=Array("2019-10-14","2020-10-12","2021-10-11","2022-10-10","2023-10-9","2024-10-14","2025-10-13","2026-10-12","2027-10-11","2028-10-9","2029-10-8","2030-10-14"),o.veterans_day=new a("Veterans Day"),"es"==document.getElementsByTagName("html")[0].lang&&(o.newyears_day=new a("DÃ­a de los Veteranos")),o.veterans_day.dateArray=Array("2019-11-11","2020-11-11","2021-11-11","2022-11-11","2023-11-10","2024-11-11","2025-11-11","2026-11-11","2027-11-11","2028-11-10","2029-11-12","2030-11-11"),o.thanksgiving_day=new a("Thanksgiving Day"),"es"==document.getElementsByTagName("html")[0].lang&&(o.newyears_day=new a("DÃ­a de Gracias")),o.thanksgiving_day.dateArray=Array("2019-11-28","2020-11-26","2021-11-25","2022-11-24","2023-11-23","2024-11-28","2025-11-27","2026-11-26","2027-11-25","2028-11-23","2029-11-22","2030-11-28"),o.christmas_day=new a("Christmas Day"),"es"==document.getElementsByTagName("html")[0].lang&&(o.newyears_day=new a("DÃ­a de Navidad")),o.christmas_day.dateArray=Array("2019-12-25","2020-12-25","2021-12-24","2022-12-26","2023-12-25","2024-12-25","2025-12-25","2026-12-25","2027-12-24","2028-12-25","2029-12-25","2030-12-25"),o)for(var r in(n=o[s]).dateArray)if(e==n.dateArray[r])return t.msg="Federal Holiday "+n.name,"es"==document.getElementsByTagName("html")[0].lang&&(t.msg="Feriado federal "+n.name),t.result=!1,t;return t}function huntCheck(e={}){var t="action=huntCheck&vertical="+VERTICAL;$("#email").val()&&(t=t+"&email="+$("#email").val()),$("#home_phone1").val()&&$("#home_phone2").val()&&$("#home_phone3").val()&&(t=t+"&homePhone="+$("#home_phone1").val()+$("#home_phone2").val()+$("#home_phone3").val());let a=!1;e.hasOwnProperty("ot")&&(t+="&ot="+e.ot,a=!0),e.hasOwnProperty("rsuc")&&(t+="&rsuc="+e.rsuc,a=!0);var n="";allowSubmit=!0,$(".hc").each((function(){if($(this).is(":checkbox")?$(this).is(":checked")&&(n="&"+encodeURIComponent($(this).attr("id"))+"="+encodeURIComponent($(this).val()),t+=n):(n="&"+encodeURIComponent($(this).attr("id"))+"="+encodeURIComponent($(this).val()),t+=n),!specialHunt&&!a)if(tmp=$(this).h5Validate("isValid"),tmp){var e=$(this).attr("id").replace("h_","");$("#"+e).val($(this).val()).change()}else allowSubmit=!1})),a?(allowSubmit=!0,specialHunt=!0,$(".specialHuntField").show()):$(".specialHuntField").hide(),allowSubmit&&(TRY_HUNT?(a||$("#huntCheckSubmit").modal({clickClose:!1,escapeClose:!1,showClose:!1,zIndex:100}),$.ajax({type:"POST",url:SUBMIT_URL,data:t,async:!0,headers:{"cache-control":"no-cache"},success:function(e){$("#huntCheckSubmit").unbind($.modal.AFTER_CLOSE),console.log("good ajax call before state");var t=jQuery.parseJSON(e);if(t.hasOwnProperty("show_hdq")&&(SHOW_HDQ=parseInt(t.show_hdq),showHideHighDebt($("#h_specialRequestedLoanAmount").val())),t.hasOwnProperty("solvedState")&&(t.solvedState&&($("#drivingLicenseState").val(t.solvedState),$("#drivingLicenseState").change(),$("#drivingLicenseState").trigger("change")),"undefined"!=typeof IS_STEP)){-1!==["AL","AZ","CA","DE","FL","GA","ID","IN","KS","KY","MI","MO","MS","NM","NV","OH","SC","TN","TX","UT","WA","WI"].indexOf(t.solvedState)&&(console.log("should show question"),showCleanTitleQuestion()),-1!==suplementalStats.indexOf(t.solvedState)&&(isSuplemental.zip=1,isSuplementalCheck())}t.hasOwnProperty("modal")?(console.log("modal"),$("<div></div>").attr("id","stubModal").attr("style","display:none;width:450px;").insertAfter("form"),$("#stubModal").html(t.modal),$("#stubModal").modal({clickClose:!0,escapeClose:!0,showClose:!1,zIndex:100})):t.hasOwnProperty("huntFound")&&t.huntFound?(console.log("huntSuccess."),t.hasOwnProperty("appFirstName")?"es"==document.getElementsByTagName("html")[0].lang?$("#appFirstName").html("Felicidades, "+t.appFirstName):$("#appFirstName").html("Congratulations, "+t.appFirstName):"es"==document.getElementsByTagName("html")[0].lang?$("#appFirstName").html("Â¡Felicidades!"):$("#appFirstName").html("Congratulations!"),$("#progressbar").hide(),$("#huntFound").val(1),showIframeModal(),a?huntSuccess(a):($("#huntCheckSubmit").on($.modal.AFTER_CLOSE,(function(e){console.log("huntCheckSubmit hide"),huntSuccess()})),$.modal.close())):(console.log("Hunt failed"),specialHunt=!1,a||($("#huntCheckSubmit").on($.modal.AFTER_CLOSE,(function(e){console.log("huntCheckSubmit hide"),huntFailed()})),$.modal.close()))},error:function(e,t,a){(RESUBMIT_HUNT_CHECK_COUNT+=1)<2?huntCheck():($.modal.close(),console.log("Ajax Error."),specialHunt=!1,huntFailed())}})):huntFailed())}async function huntSubmit(e,t){if(void 0===e)e="huntSubmit";if(void 0===t)t="";var a="action="+e+"&vertical="+VERTICAL;a=specialFieldsBuild(a);var n="";if(allowSubmit=!0,specialHunt)var o="#h_termsField, .specialHunt"+t;else o="#h_termsField, .hs, .newPhone"+t;if(console.log(o),$(o).each((function(){$(this).is(":checkbox")?$(this).is(":checked")&&(n="&"+encodeURIComponent($(this).attr("id"))+"="+encodeURIComponent($(this).val()),a+=n):(n="&"+encodeURIComponent($(this).attr("id"))+"="+encodeURIComponent($(this).val()),a+=n),tmp=$(this).h5Validate("isValid"),tmp||(console.log($(this)),allowSubmit=!1)})),allowSubmit){if(allowSubmit=!0,specialHunt&&(""!=$("#email").val()&&(a=a+"&email="+$("#email").val()),""!=$("#rsuc").val()&&(a=a+"&rsuc="+$("#rsuc").val()),""!=$("#home_phone1").val())){let e=$("#home_phone1").val()+$("#home_phone2").val()+$("#home_phone3").val();a=a+"&homePhone="+e}allowSubmit&&(removeListeners("beforeunload"),$("#sending").modal({clickClose:!1,escapeClose:!1,showClose:!1,zIndex:100}),appendAnura(),await new Promise((e=>setTimeout(e,2e3))),a+="&abd="+abd,$.ajax({type:"POST",url:SUBMIT_URL,data:a,async:!0,headers:{"cache-control":"no-cache"},success:function(e){sendUserTags(),"undefined"!=typeof IS_STEP&&"function"==typeof gtag&&gtag("event","stepFormTracker",{event_name:"stepHuntSubmitSuccess"}),$.modal.close(),console.log("good ajax call"),CommonSubmitAjaxResponseHandle(jQuery.parseJSON(e))},error:function(e,t,a){(RESUBMIT_COUNT+=1)<2?huntSubmit():(sendUserTags(),"undefined"!=typeof IS_STEP&&"function"==typeof gtag&&gtag("event","stepFormTracker",{event_name:"stepHuntSubmitFail"}),$.modal.close(),console.log("Ajax Error."))}}))}}function urldecode(e){return decodeURIComponent((e+"").replace(/\+/g,"%20"))}function getUnixTimestamp(){return Date.now||(Date.now=function(){return(new Date).getTime()}),Math.floor(Date.now()/1e3)}function CommonSubmitAjaxResponseHandle(e){return e.hasOwnProperty("locked")&&"0"===e.locked?($("#h_special_ssn3").addClass("h5-ui-state-error"),"es"==document.getElementsByTagName("html")[0].lang?$("#specialHuntSubmitFailText").html("Lo siento, eso no coincide con nuestros registros. IntÃ©ntalo de nuevo."):$("#specialHuntSubmitFailText").html("Sorry, that didn't match our records, please try again."),void $("#specialHuntSubmitFail").modal({clickClose:!1,escapeClose:!1,showClose:!1,zIndex:100})):e.hasOwnProperty("locked")&&"1"===e.locked?("es"==document.getElementsByTagName("html")[0].lang?$("#specialHuntSubmitFailText").html("Lo sentimos, tenemos problemas para hacer coincidir su informaciÃ³n. Inicie una nueva solicitud de prÃ©stamo."):$("#specialHuntSubmitFailText").html("Sorry we're having trouble matching your information. Please start a new loan request."),$("#specialHuntSubmitFailButtons button").attr("onclick",$("#specialHuntSubmitFailButtons button").attr("onclick")+"reEnterInfo();"),void $("#specialHuntSubmitFail").modal({clickClose:!1,escapeClose:!1,showClose:!1,zIndex:100})):(response=e.response,redirect=e.redirect,void("declined"===response?!0===tryInstallment?($("#tryInstallment").modal({clickClose:!0,escapeClose:!0,showClose:!0,zIndex:100}),rejectUrl=redirect):disableOnBeforeUnload(redirect):"modal"in e?(console.log("modal"),$("<div></div>").attr("id","stubModal").attr("style","display:none;width:450px;").insertAfter("form"),$("#stubModal").html(e.modal),$("#stubModal").modal({clickClose:!1,escapeClose:!1,showClose:!1,zIndex:100})):"action"in e?(console.log("action! "+e.action.action),"showCrossToPayday"===e.action.action&&showCrossToPayday(e.action.elid,e.action.rurl)):"alert"in e?alert(e.alert):disableOnBeforeUnload(redirect)))}function alertHomePhone(e,t){if(HOME_PHONE_ALERT_FIRED)return console.log("already fired home ajax!"),void e();HOME_PHONE_ALERT_FIRED=!0;var a=$("#home_phone1").val()+$("#home_phone2").val()+$("#home_phone3").val();if(1==$("#huntFound").val())a=$("#h_home_phone1").val()+$("#h_home_phone2").val()+$("#h_home_phone3").val();var n="phone="+a+"&xfer="+$("#xfer").val()+"&email="+encodeURIComponent($("#email").val());$.ajax({type:"POST",url:PHONE_URL,data:n,timeout:3e3,async:!0,headers:{"cache-control":"no-cache"},success:function(a){console.log("good phone ajax call");var n=jQuery.parseJSON(a);n.hasOwnProperty("show_hdq")&&(SHOW_HDQ=parseInt(n.show_hdq)),n.hasOwnProperty("valid")&&0===parseInt(n.valid)?("es"==document.getElementsByTagName("html")[0].lang?alert("No pudimos validar el nÃºmero de telÃ©fono de su casa. Ingresa un nÃºmero de telÃ©fono residencial vÃ¡lido."):alert("We could not validate your home phone number. Please enter a valid home phone number"),t()):e()},error:function(t,a,n){console.log("phone ajax Error."),e()}})}function setBank(){USER_CHANGED_BANK_NAME=1}function getBank(e){if(9!=e.value.length||USER_CHANGED_BANK_NAME)return!1;var t="routingNumber="+$("#routingNumber").val()+"&xfer="+$("#xfer").val();$.ajax({type:"POST",url:BANK_URL,data:t,timeout:3e3,async:!0,headers:{"cache-control":"no-cache"},success:function(e){var t=jQuery.parseJSON(e);t.hasOwnProperty("name")&&""!==t.name&&($("#bankName").val(t.name).trigger("input"),USER_CHANGED_BANK_NAME=1)},error:function(e,t,a){}})}function phoneTrack(e){var t=e.id[e.id.length-1];if($(e).h5Validate("isValid")){for(var a in HOME_PHONE_TRACK[t]=1,HOME_PHONE_TRACK)if(!HOME_PHONE_TRACK[a])return;checkHomePhone();var n=e.id.slice(0,e.id.length-1),o=$("#"+n+"1").val()+"-"+$("#"+n+"2").val()+"-"+$("#"+n+"3").val();$("#smsPhoneSpan").html(o)}else HOME_PHONE_TRACK[t]=0}function repostPost(){$("#blockCrossover").val(1),LAPR="0",$("#huntFound").val()>0?huntSubmit("repost",",.rp"):submitAll("repost",",.rp")}function noThankYou(){disableOnBeforeUnload($("#failedRedirectUrl").val())}function noThankYouModal(){window.parent.postMessage('{"message":"noShortTermModal"}',"*")}function closeModal(){$.modal.close()}function goToNext(e,t,a){e.val().length>=a&&t.focus()}function sendUserTags(){}function sendPushSubmit(){window.parent.postMessage({message:"pushAfterSubmit"},"*")}function removeListeners(e){const t={message:"removeListeners",listener:e};window.parent.postMessage(t,"*")}$((function(){window.addEventListener("message",(function(e){var t=new Object;try{t=JSON.parse(e.data)}catch(e){}"noShortTermModal"==t.message&&noThankYou()}))}));var isSuplemental={zip:0,state:0};function isSuplementalCheck(){isSuplemental.zip||isSuplemental.state?$(".isSuplemental").show():$(".isSuplemental").hide()}const suplementalStats=["CA","CO","CT","VA","UT"];$((function(){const e=["NY"];$("#zip, #h_zip").on("change",(function(){"undefined"!=typeof IS_STEP&&!0===IS_STEP&&$("#page"+TITLE_PAGE_ID).removeClass("progressSection");const t=$(this);$("#zip, #h_zip").val(t.val()),isSuplemental.zip=0,$.ajax({type:"POST",url:STATE_URL,data:"zip="+t.val()+"&xfer="+$("#xfer").val()+"&getPidUrl=1",timeout:3e3,async:!1,headers:{"cache-control":"no-cache"},success:function(a){let n=jQuery.parseJSON(a);if(n.hasOwnProperty("state")&&(n.state&&($("#drivingLicenseState").val(n.state),$("#drivingLicenseState").change(),$("#drivingLicenseState").trigger("change")),-1!==e.indexOf(n.state)&&(n.hasOwnProperty("pidUrl")&&$("#unacceptableStateModalStateLink").attr("href",n.pidUrl),$("#unacceptableStateModalStateText").html(n.state),$("#unacceptableStateModal").modal({zIndex:100}),t.val("")),-1!==suplementalStats.indexOf(n.state)&&(isSuplemental.zip=1),"undefined"!=typeof IS_STEP&&!0===IS_STEP)){const e=["AL","AZ","CA","DE","FL","GA","ID","IN","KS","KY","MI","MO","MS","NM","NV","OH","SC","TN","TX","UT","WA","WI"];n.hasOwnProperty("state")&&-1!==e.indexOf(n.state)&&$("#page"+TITLE_PAGE_ID).addClass("progressSection")}isSuplementalCheck()}})})),$("#h_birthdate_year").on("change",(function(){$("#birthdate_year").val($(this).val())})),$("#drivingLicenseState").on("change",(function(){-1!==suplementalStats.indexOf(this.value)?isSuplemental.state=1:isSuplemental.state=0,isSuplementalCheck()})),$("#email").on("change",(function(){const e=$(this),t=e.val().replace("+",encodeURIComponent("+"));$.ajax({type:"POST",url:EMAIL_URL,data:"email="+t+"&xfer="+$("#xfer").val(),timeout:3e3,async:!1,headers:{"cache-control":"no-cache"},success:function(t){let a=jQuery.parseJSON(t);if(!a.hasOwnProperty("valid")&&1===a.valid)return;let n='It looks like you might have meant "',o='". Would you like to update your entry?';"es"==$("html").attr("lang")&&(n='Parece que quiso decir "',o='". Â¿Quieres actualizar tu entrada?'),a.hasOwnProperty("suggestion")&&confirm(n+a.suggestion+o)&&(e.val(a.suggestion),e.change())}})}))}));